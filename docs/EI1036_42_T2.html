<!DOCTYPE html>
<html>
<head>
<title>EI1036_42_T2.md</title>
<meta http-equiv="Content-type" content="text/html;charset=UTF-8">

<style>
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

body {
	font-family: "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
	font-size: 14px;
	padding: 0 12px;
	line-height: 22px;
	word-wrap: break-word;
}

#code-csp-warning {
	position: fixed;
	top: 0;
	right: 0;
	color: white;
	margin: 16px;
	text-align: center;
	font-size: 12px;
	font-family: sans-serif;
	background-color:#444444;
	cursor: pointer;
	padding: 6px;
	box-shadow: 1px 1px 1px rgba(0,0,0,.25);
}

#code-csp-warning:hover {
	text-decoration: none;
	background-color:#007acc;
	box-shadow: 2px 2px 2px rgba(0,0,0,.25);
}


body.scrollBeyondLastLine {
	margin-bottom: calc(100vh - 22px);
}

body.showEditorSelection .code-line {
	position: relative;
}

body.showEditorSelection .code-active-line:before,
body.showEditorSelection .code-line:hover:before {
	content: "";
	display: block;
	position: absolute;
	top: 0;
	left: -12px;
	height: 100%;
}

body.showEditorSelection li.code-active-line:before,
body.showEditorSelection li.code-line:hover:before {
	left: -30px;
}

.vscode-light.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(0, 0, 0, 0.15);
}

.vscode-light.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(0, 0, 0, 0.40);
}

.vscode-dark.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 255, 255, 0.4);
}

.vscode-dark.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 255, 255, 0.60);
}

.vscode-high-contrast.showEditorSelection .code-active-line:before {
	border-left: 3px solid rgba(255, 160, 0, 0.7);
}

.vscode-high-contrast.showEditorSelection .code-line:hover:before {
	border-left: 3px solid rgba(255, 160, 0, 1);
}

img {
	max-width: 100%;
	max-height: 100%;
}

a {
	color: #4080D0;
	text-decoration: none;
}

a:focus,
input:focus,
select:focus,
textarea:focus {
	outline: 1px solid -webkit-focus-ring-color;
	outline-offset: -1px;
}

hr {
	border: 0;
	height: 2px;
	border-bottom: 2px solid;
}

h1 {
	padding-bottom: 0.3em;
	line-height: 1.2;
	border-bottom-width: 1px;
	border-bottom-style: solid;
}

h1, h2, h3 {
	font-weight: normal;
}

h1 code,
h2 code,
h3 code,
h4 code,
h5 code,
h6 code {
	font-size: inherit;
	line-height: auto;
}

a:hover {
	color: #4080D0;
	text-decoration: underline;
}

table {
	border-collapse: collapse;
}

table > thead > tr > th {
	text-align: left;
	border-bottom: 1px solid;
}

table > thead > tr > th,
table > thead > tr > td,
table > tbody > tr > th,
table > tbody > tr > td {
	padding: 5px 10px;
}

table > tbody > tr + tr > td {
	border-top: 1px solid;
}

blockquote {
	margin: 0 7px 0 5px;
	padding: 0 16px 0 10px;
	border-left: 5px solid;
}

code {
	font-family: Menlo, Monaco, Consolas, "Droid Sans Mono", "Courier New", monospace, "Droid Sans Fallback";
	font-size: 14px;
	line-height: 19px;
}

body.wordWrap pre {
	white-space: pre-wrap;
}

.mac code {
	font-size: 12px;
	line-height: 18px;
}

pre:not(.hljs),
pre.hljs code > div {
	padding: 16px;
	border-radius: 3px;
	overflow: auto;
}

/** Theming */

.vscode-light,
.vscode-light pre code {
	color: rgb(30, 30, 30);
}

.vscode-dark,
.vscode-dark pre code {
	color: #DDD;
}

.vscode-high-contrast,
.vscode-high-contrast pre code {
	color: white;
}

.vscode-light code {
	color: #A31515;
}

.vscode-dark code {
	color: #D7BA7D;
}

.vscode-light pre:not(.hljs),
.vscode-light code > div {
	background-color: rgba(220, 220, 220, 0.4);
}

.vscode-dark pre:not(.hljs),
.vscode-dark code > div {
	background-color: rgba(10, 10, 10, 0.4);
}

.vscode-high-contrast pre:not(.hljs),
.vscode-high-contrast code > div {
	background-color: rgb(0, 0, 0);
}

.vscode-high-contrast h1 {
	border-color: rgb(0, 0, 0);
}

.vscode-light table > thead > tr > th {
	border-color: rgba(0, 0, 0, 0.69);
}

.vscode-dark table > thead > tr > th {
	border-color: rgba(255, 255, 255, 0.69);
}

.vscode-light h1,
.vscode-light hr,
.vscode-light table > tbody > tr + tr > td {
	border-color: rgba(0, 0, 0, 0.18);
}

.vscode-dark h1,
.vscode-dark hr,
.vscode-dark table > tbody > tr + tr > td {
	border-color: rgba(255, 255, 255, 0.18);
}

.vscode-light blockquote,
.vscode-dark blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.vscode-high-contrast blockquote {
	background: transparent;
	border-color: #fff;
}
</style>

<style>
/* Tomorrow Theme */
/* http://jmblog.github.com/color-themes-for-google-code-highlightjs */
/* Original theme - https://github.com/chriskempson/tomorrow-theme */

/* Tomorrow Comment */
.hljs-comment,
.hljs-quote {
	color: #8e908c;
}

/* Tomorrow Red */
.hljs-variable,
.hljs-template-variable,
.hljs-tag,
.hljs-name,
.hljs-selector-id,
.hljs-selector-class,
.hljs-regexp,
.hljs-deletion {
	color: #c82829;
}

/* Tomorrow Orange */
.hljs-number,
.hljs-built_in,
.hljs-builtin-name,
.hljs-literal,
.hljs-type,
.hljs-params,
.hljs-meta,
.hljs-link {
	color: #f5871f;
}

/* Tomorrow Yellow */
.hljs-attribute {
	color: #eab700;
}

/* Tomorrow Green */
.hljs-string,
.hljs-symbol,
.hljs-bullet,
.hljs-addition {
	color: #718c00;
}

/* Tomorrow Blue */
.hljs-title,
.hljs-section {
	color: #4271ae;
}

/* Tomorrow Purple */
.hljs-keyword,
.hljs-selector-tag {
	color: #8959a8;
}

.hljs {
	display: block;
	overflow-x: auto;
	color: #4d4d4c;
	padding: 0.5em;
}

.hljs-emphasis {
	font-style: italic;
}

.hljs-strong {
	font-weight: bold;
}
</style>

<style>
/*
 * Markdown PDF CSS
 */

 body {
	font-family:  "Meiryo", "Segoe WPC", "Segoe UI", "SFUIText-Light", "HelveticaNeue-Light", sans-serif, "Droid Sans Fallback";
}

pre {
	background-color: #f8f8f8;
	border: 1px solid #cccccc;
	border-radius: 3px;
	overflow-x: auto;
	white-space: pre-wrap;
	overflow-wrap: break-word;
}

pre:not(.hljs) {
	padding: 23px;
	line-height: 19px;
}

blockquote {
	background: rgba(127, 127, 127, 0.1);
	border-color: rgba(0, 122, 204, 0.5);
}

.emoji {
	height: 1.4em;
}

/* for inline code */
:not(pre):not(.hljs) > code {
	color: #C9AE75; /* Change the old color so it seems less like an error */
	font-size: inherit;
}

/* Page Break : use <div class="page"/> to insert page break
-------------------------------------------------------- */
.page {
	page-break-after: always;
}

</style>

</head>
<body>
<hr>
<h2 id="theme-whitetransition-zoomhighlighttheme-darkulacustomtheme-lolatheme">theme : &quot;white&quot;
transition: &quot;zoom&quot;
highlightTheme: &quot;darkula&quot;
customTheme : &quot;lola_theme&quot;</h2>
<h1 id="tema-2-introducci%C3%B3n-al-php">Tema 2: Introducción al PHP</h1>
<h3 id="ei1042---tecnolog%C3%ADas-y-aplicaciones-web">EI1042 - Tecnologías y Aplicaciones Web</h3>
<p><strong>EI1036- Tecnologías Web para los Sistemas de Información (2018/2019)</strong></p>
<p><em>Professora: Dra. Dolores Mª Llidó Escrivá</em></p>
<p><a href="https://www.uji.es/">Universitat Jaume I</a>.</p>
<p>(Drive/T2)
<em>https://drive.google.com/drive/folders/1U8unry7CEj77DF9-dpq9JuAJ4ZQkjYWf</em></p>
<hr>
<h2 id="%C3%ADndice">Índice</h2>
<ul>
<li>Introducción a PHP</li>
<li>Sintaxis básica</li>
<li>Tipos de datos</li>
<li>Salida Estándar</li>
<li>Variables Expresiones y Operadores</li>
<li>Formularios</li>
<li>Funciones</li>
<li>Objetos</li>
<li>Clausuras y Funciones anónimas</li>
</ul>
<hr>
<h1 id="1-introducci%C3%B3n-al-php">1. Introducción al PHP</h1>
<ul>
<li>Creado por Rasmus Lerdorf para uso personal en 1994 <img src="./media/T2/rasmus.jpeg" alt="Image of Rasmus"></li>
<li>PHP es un lenguaje de script del lado del servidor.</li>
<li>PHP: Hypertext Preprocessor</li>
<li>Versión actual: PHP 7</li>
<li>Es potente, fácil de aprender, de libre
distribución, permite el acceso a bases de datos y otras
funcionalidades orientadas a la red</li>
<li>Dispone de abundante soporte en la Web</li>
</ul>
<hr>
<h2 id="ficheros-con-php">Ficheros con PHP</h2>
<ul>
<li>Fichero PHP:  hola.php</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span> 
<span class="hljs-keyword">echo</span> <span class="hljs-string">"Hola Mundo"</span>;
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<ul>
<li>Fichero con HTML: bienvenido.php</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Inicio<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="php"><span class="hljs-meta">&lt;?php</span> 
$nombre = <span class="hljs-string">"Ana"</span>;
<span class="hljs-keyword">print</span>(<span class="hljs-string">" &lt;P&gt;Hola, $nombre&lt;/P&gt;"</span>); 
 <span class="hljs-meta">?&gt;</span></span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Fin<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>

</div></code></pre>
<hr>
<h2 id="ejecuci%C3%B3n-php">Ejecución PHP</h2>
<ul>
<li>
<p>Consola</p>
</li>
<li>
<p><code>php.exe &quot;./bienvenidos.php&quot;</code></p>
</li>
<li>
<p>Entorno php:</p>
</li>
</ul>
<pre class="hljs"><code><div>php.exe
$hola=&quot;Adios&quot;;
$echo $hola
</div></code></pre>
<p>-Servidor web:
https://piruletas.000webhostapp.com/Teo/T2/holaMundo.php</p>
<hr>
<h2 id="configuraci%C3%B3n-php">Configuración php</h2>
<ul>
<li>Fichero: php.ini</li>
<li>Visualizar la configuración del servidor: función  phpinfo()</li>
</ul>
<p>https://piruletas.000webhostapp.com/teoria/T2/form0Info.html</p>
<p>--</p>
<h1 id="ver-errores-php-en-producci%C3%B3n">Ver errores php en producción:</h1>
<p>Añadir al .htacess</p>
<pre class="hljs"><code><div>php_flag display_errors 1
php_value error_reporting 7
</div></code></pre>
<hr>
<h2 id="p%C3%A1ginas-web-din%C3%A1mcas-con-php">Páginas web dinámcas con PHP</h2>
<ul>
<li>El cliente no ve el código PHP sino los resultados que produce en la salida estándar.</li>
<li>Apache ejecuta php no como un CGI sino como un módulo.Version php<br>
-S.O. != Apache</li>
</ul>
<p><img src="./media/T2/image1.png" alt="Image of La World Wide Web"></p>
<hr>
<h3 id="cuestiones">Cuestiones</h3>
<p>https://piruletas.000webhostapp.com/Lab/P1/includes/portal.php?action=listar</p>
<p>Analiza la URL.</p>
<ul>
<li>¿Cual es el nombre servidor?</li>
<li>¿Cual es el recurso?</li>
<li>¿Que parametros requiere el programa php?</li>
</ul>
<hr>
<h2 id="servidor-web-local">Servidor WEB Local</h2>
<p>Local:</p>
<ul>
<li>Instalar PHP</li>
<li>Ejecutar:
<code>php -S localhost</code></li>
</ul>
<p>php [options] -S <addr>:<port> [-t docroot]</p>
<p><a href="http://localhost:8088/T2/tutoPhp.php">http://localhost:8088/T2/tutoPhp.php</a></p>
<p>Manual PHP: http://php.net/manual/es/</p>
<p>--</p>
<h3 id="cuestiones">Cuestiones</h3>
<ul>
<li>¿Que es el docroot del servidor web?</li>
<li>¿Donde ponemos el fichero tutoPhp.php en el servidor?</li>
</ul>
<hr>
<h2 id="servidor-web-en-producci%C3%B3n">Servidor WEB en Producción</h2>
<ul>
<li>Servidor web Apache (http://www.apache.org) con el módulo PHP (http://www.php.net)</li>
<li>Base de datos MySQL (http://www.mysql.com) si se desea crear páginas dinámicas</li>
<li>Herramientas para la gestión de MySQL, como PHPMyAdmin
(www.phpmyadmin.net)</li>
</ul>
<p><a href="http://httpd.apache.org/docs/current/es/">Apache 2.3 http://httpd.apache.org/docs/current/es/</a></p>
<hr>
<h2 id="servidor-web-en-desarrollo-xampp">Servidor WEB  en desarrollo: XAMPP</h2>
<ul>
<li>XAMPP es una distribución de Apache que incluye MySQL, PHP y  phpMyAdmin</li>
<li>XAMPP es gratuito y fácil de instalar</li>
<li>XAMPP es multiplataforma</li>
<li>Precaución: la configuración por defecto  no es segura, ni para un entorno de producción.</li>
</ul>
<hr>
<h1 id="2-sintaxis-b%C3%A1sica-php">2. Sintaxis básica PHP</h1>
<ul>
<li>PHP es sensible a las mayúsculas/minúsculas.</li>
<li>Las instrucciones se separan con &quot;;&quot;</li>
<li>Espacios en blanco y cambios de línea no se tienen en cuenta.</li>
<li>PHP interpreta entre comillas dobles pero no entre comillas
simples.</li>
<li>Se utiliza codificación utf8.</li>
<li>Comprobar que el editor no ha generado un BOM ( <em>byte order mark</em> de unicode en la primera línea)</li>
</ul>
<p>Guia Estilos: https://www.php-fig.org/psr/psr-2/</p>
<p>--</p>
<h3 id="ejemplo-fichero-php">Ejemplo fichero PHP</h3>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?php</span>
$var = <span class="hljs-string">"test"</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">"$var"</span>; <span class="hljs-comment">// Salida:"test“</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">"\$var"</span>; <span class="hljs-comment">// Salida:" "$var"</span>
<span class="hljs-keyword">echo</span> <span class="hljs-string">'$var'</span>; <span class="hljs-comment">// Salida:" "$var"</span>
<span class="hljs-comment"># otro comentario hasta el final de la línea</span>
<span class="hljs-comment">/* comento
varias líneas */</span>
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<p>--</p>
<h3 id="usar-yodastyle">Usar: YodaStyle</h3>
<p><img src="./media/T2/image2.png" alt="Image of La World Wide Web"></p>
<p>Escribir comparaciones  al revés ( Yoda habla al revés).</p>
<p>En ocasiones podemos equivocarnos  <em>if ($value = true)</em> y ...simplemente estamos
asignado SIEMPRE true a nuestra variable. Nos costaría identificar el error en nuestro código.</p>
<hr>
<h1 id="3-tipos-de-datos">3. Tipos de datos</h1>
<ul>
<li>Tipos escalares: boolean, integer, double, string</li>
<li>Tipos compuestos: array, object</li>
<li>Tipos especiales: resource, NULL</li>
</ul>
<p>--</p>
<h3 id="array-asociativo">Array Asociativo</h3>
<p>Sintaxis:
array ([clave =&gt;] valor, ...)</p>
<pre class="hljs"><code><div>$medidas = <span class="hljs-keyword">array</span> (<span class="hljs-number">10</span>, <span class="hljs-number">25</span>, <span class="hljs-number">15</span>);
<span class="hljs-keyword">echo</span> $medidas[<span class="hljs-number">0</span>]

$color = <span class="hljs-keyword">array</span> (‘rojo’=&gt;<span class="hljs-number">101</span>, ‘verde’=&gt;<span class="hljs-number">51</span>, ‘azul’=&gt;<span class="hljs-number">255</span>); 

<span class="hljs-comment">#Acceso:</span>
<span class="hljs-keyword">echo</span> $color[‘rojo’] <span class="hljs-comment">// No olvidar las comillas</span>
<span class="hljs-keyword">echo</span> array_keys($color)
</div></code></pre>
<hr>
<h1 id="4-salida-est%C3%A1ndar">4. Salida estándar</h1>
<p>¿Cómo enviar mensajes a la salida estándar?</p>
<ul>
<li>echo — Muestra una o más cadenas.</li>
<li>print — Mostrar una cadena.</li>
<li>printf — Imprimir una cadena con formato.</li>
<li>print_r — Imprime información legible para humanos.</li>
<li>var_dump— Vuelca información sobre una variable. La información y su tipo</li>
</ul>
<p>--</p>
<h2 id="diferencias-echo-o-print">Diferencias echo o print</h2>
<ul>
<li>
<p>Void echo (string argument1[,...string argumentN])</p>
</li>
<li>
<p>Int print (argument)</p>
<ul>
<li>Print sólo tiene un argumento (echo puede tener varios)</li>
<li>print devuelve 1 (significa que ha generado la salida)</li>
</ul>
</li>
</ul>
<p>No es obligatorio el uso de paréntesis ya que no son
realmente una función.</p>
<pre class="hljs"><code><div><span class="hljs-keyword">echo</span> <span class="hljs-string">"Hola mundo"</span>;
<span class="hljs-keyword">echo</span> <span class="hljs-string">"Hola "</span>, <span class="hljs-string">"mundo"</span>; 
<span class="hljs-keyword">print</span> <span class="hljs-string">"Hola mundo"</span>;
<span class="hljs-keyword">print</span> <span class="hljs-string">"Hola "</span>. <span class="hljs-string">"mundo"</span>;
</div></code></pre>
<hr>
<h1 id="variables">Variables</h1>
<ul>
<li>No se declara el tipo de las variables.</li>
<li>Las variables se pueden asignar
<ul>
<li>Por valor</li>
<li>Por referencia (con &amp;)</li>
<li>Creación de nombres de variables dinámico.</li>
</ul>
</li>
</ul>
<pre class="hljs"><code><div>$x=<span class="hljs-string">'equis'</span>;
$_x = &amp;$x; <span class="hljs-comment">//referencia a $x</span>
$_x =<span class="hljs-string">'x'</span>;
<span class="hljs-keyword">echo</span> $x; <span class="hljs-comment">//x</span>
<span class="hljs-keyword">echo</span> $_x; <span class="hljs-comment">//x</span>
$a = <span class="hljs-string">"hola"</span>;
$$a = <span class="hljs-string">"mundo"</span>;
<span class="hljs-keyword">print</span> <span class="hljs-string">"$a $hola\n"</span>;
<span class="hljs-comment">//hola mundo</span>
<span class="hljs-keyword">print</span> <span class="hljs-string">"$a ${$a}"</span>;
<span class="hljs-comment">//hola mundo</span>
</div></code></pre>
<hr>
<h2 id="%C2%BFque-tipo-es-la-variable">¿Que tipo es la variable?</h2>
<ul>
<li>gettype() devuelve el tipo de una variable</li>
<li>is_type() comprueba si una variable es de un tipo dado:</li>
</ul>
<p><code>is_array(), is_bool(), is_float(), is_integer(), is_null(), is_numeric(), is_object(), is_resource(), is_scalar(),is_string()</code></p>
<hr>
<h2 id="%C3%A1mbito-de-variables">Ámbito de variables</h2>
<ul>
<li>Local: Variable definida en una función
<ul>
<li>Está limitada a dicha función.</li>
<li>Se elimina al acabar la ejecución de la función</li>
<li>Salvo si la variable se declara como <strong>static</strong> .</li>
</ul>
</li>
<li>Global:
<ul>
<li>No se puede definir dentro de las funciones a menos que :
<ul>
<li>se declare en la función con la palabra clave 'global'</li>
<li>O que se acceda con el array $GLOBALS[indice]</li>
</ul>
</li>
<li>Existen durante todo el tiempo de proceso del fichero</li>
<li>Al acabar de procesar el fichero se eliminan las variables globales</li>
</ul>
</li>
</ul>
<hr>
<h2 id="superglobal">Superglobal</h2>
<ul>
<li>Variables predefinidas en PHP</li>
<li>Están disponibles en todos los ámbitos.</li>
</ul>
<p>Ejemplos:</p>
<ul>
<li>$GLOBALS — Array con todas las variables disponibles en el ámbito global</li>
<li>$_SERVER — Información del entorno del servidor y de ejecución</li>
<li>$_GET(POST) — Variables HTTP GET(POST)</li>
<li>$_FILES — Variables de Carga de Archivos HTTP</li>
<li>$_REQUEST — Variables HTTP Request</li>
<li>$_SESSION — Variables de sesión</li>
<li>$_COOKIE— Variables con datos de la cookie</li>
<li>$_ENV— Variables del entorno</li>
</ul>
<hr>
<h1 id="ejercicio">Ejercicio</h1>
<p>https://piruletas.000webhostapp.com/teoria/T2/tutoPhp.php</p>
<ul>
<li>Analiza este fichero y mira el funcionamiento.</li>
</ul>
<hr>
<h1 id="6-formularios">6. Formularios</h1>
<h3 id="ejercicios">Ejercicios</h3>
<pre class="hljs"><code><div>RADIO
<span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">’procesar.php”</span> <span class="hljs-attr">method</span>=<span class="hljs-string">”get”</span>&gt;</span>
Sexo:
<span class="hljs-tag">&lt;<span class="hljs-name">INPUT</span> <span class="hljs-attr">TYPE</span>=<span class="hljs-string">"radio"</span> <span class="hljs-attr">NAME</span>=<span class="hljs-string">“sexo</span>" <span class="hljs-attr">VALUE</span>=<span class="hljs-string">“M</span>" <span class="hljs-attr">CHECKED</span> &gt;</span>Mujer
<span class="hljs-tag">&lt;<span class="hljs-name">INPUT</span> <span class="hljs-attr">TYPE</span>= <span class="hljs-string">"radio"</span> <span class="hljs-attr">NAME</span>=<span class="hljs-string">“sexo</span>" <span class="hljs-attr">VALUE</span>=<span class="hljs-string">“H</span>"&gt;</span>Hombre
<span class="hljs-tag">&lt;<span class="hljs-name">INPUT</span> <span class="hljs-attr">TYPE</span>=<span class="hljs-string">”submit”</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-comment">#Procesar.php</span>
<span class="hljs-meta">&lt;?PHP</span>
$sexo = $_REQUEST[‘sexo’];
<span class="hljs-keyword">print</span> ($sexo);
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<hr>
<h2 id="ejercicio">Ejercicio:</h2>
<ul>
<li>¿Cuál es la petición al servidor al pulsar submit?</li>
<li>¿Que aparecerá por pantalla?
https://piruletas.000webhostapp.com/teoria/T2/form0.html</li>
</ul>
<hr>
<h1 id="5-formularios-desde-php">5. Formularios desde PHP</h1>
<p>CHECKBOX</p>
<pre class="hljs"><code><div>&lt;INPUT TYPE=<span class="hljs-string">"checkbox"</span> NAME=<span class="hljs-string">"extras[]"</span> VALUE=<span class="hljs-string">"garaje"</span> CHECKED&gt;Garaje
&lt;INPUT TYPE=<span class="hljs-string">"checkbox"</span> NAME=<span class="hljs-string">"extras[]"</span> VALUE=<span class="hljs-string">"piscina"</span>&gt;Piscina
&lt;INPUT TYPE=<span class="hljs-string">"checkbox"</span> NAME=<span class="hljs-string">"extras[]"</span> VALUE=<span class="hljs-string">"jardin"</span>&gt;Jardín
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?PHP</span>
$extras = $_REQUEST[‘extras’];
<span class="hljs-keyword">foreach</span> ($extras <span class="hljs-keyword">as</span> $extra)
<span class="hljs-keyword">print</span> (“$extra&lt;BR&gt;\n”);
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<hr>
<h3 id="formularios-desde-php">Formularios desde PHP</h3>
<p>BUTTON</p>
<pre class="hljs"><code><div>&lt;INPUT TYPE=<span class="hljs-string">"button"</span> NAME=“actualizar<span class="hljs-string">" VALUE="</span>Actualizar datos<span class="hljs-string">"&gt;
</span></div></code></pre>
<pre class="hljs"><code><div><span class="hljs-meta">&lt;?PHP</span>
$actualizar = $_REQUEST[‘actualizar’];
<span class="hljs-keyword">if</span> ($actualizar)
<span class="hljs-keyword">print</span> (<span class="hljs-string">"Se han actualizado los datos"</span>);
<span class="hljs-meta">?&gt;</span>
</div></code></pre>
<hr>
<h3 id="formularios-desde-php">Formularios desde PHP</h3>
<p>SELECT múltiple</p>
<pre class="hljs"><code><div>Idiomas:
&lt;SELECT MULTIPLE SIZE=&quot;3&quot; NAME=&quot;idiomas[]&quot;&gt;
&lt;OPTION VALUE=&quot;ingles&quot; SELECTED&gt;Inglés
&lt;OPTION VALUE=&quot;francés&quot;&gt;Francés
&lt;OPTION VALUE=&quot;alemán&quot;&gt;Alemán
&lt;OPTION VALUE=&quot;holandés&quot;&gt;Holandés
&lt;/SELECT&gt;
</div></code></pre>
<pre class="hljs"><code><div>&lt;?PHP
$idiomas = $_REQUEST[‘idiomas’];
foreach ($idiomas as $idioma)
print (“$idioma&lt;BR&gt;\n”);
?&gt;
</div></code></pre>
<hr>
<h1 id="7-funciones">7. Funciones</h1>
<p>Ejemplo:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">suma</span> <span class="hljs-params">($x, $y)</span>
</span>{
$s = $x + $y;
<span class="hljs-keyword">return</span> $s;
}
</div></code></pre>
<p>Salida:</p>
<pre class="hljs"><code><div>$a=1;
$b=2;
$c=suma ($a, $b);
print $c;
</div></code></pre>
<hr>
<h4 id="funciones">Funciones</h4>
<ul>
<li>Por defecto paso parámetros por valor</li>
<li>Paso por referencia:</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">incrementa</span> <span class="hljs-params">(&amp;$a)</span>
</span>{
$a = $a + <span class="hljs-number">1</span>;
}
$a=<span class="hljs-number">1</span>;
incrementa ($a);
<span class="hljs-keyword">print</span> $a; <span class="hljs-comment">// Muestra un 2</span>
</div></code></pre>
<hr>
<h4 id="funciones">Funciones</h4>
<ul>
<li>Argumentos por defecto</li>
<li>Los argumentos con valores por defecto deben ser siempre
los últimos:</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">muestranombre</span> <span class="hljs-params">($nombre, $titulo= <span class="hljs-string">"Sr."</span>)</span>
</span>{
<span class="hljs-keyword">print</span> <span class="hljs-string">"Estimado $titulo $nombre:\n"</span>;
}
muestranombre (“Fernández”);
muestranombre (“Fernández”, <span class="hljs-string">"Prof."</span>);
</div></code></pre>
<p>Salida:</p>
<pre class="hljs"><code><div>Estimado Sr. Fernández:
Estimado Prof. Fernández:
</div></code></pre>
<hr>
<h2 id="ejemplo-funciones-y-sessiones">Ejemplo funciones y sessiones</h2>
<pre class="hljs"><code><div>function activarSession()
{   if (!isset($_SESSION[&quot;activo&quot;]))
    {$_SESSION = array();
        setcookie(session_name(), '', time() + 10);
        $_SESSION[&quot;activo&quot;] = 1;
        print &quot;&lt;h2&gt;Hola&lt;/h2&gt;&quot;;
        $_SESSION[&quot;usuario&quot;] = &quot;visitante&quot;;
        return 0;
    } else { 
      if ($_SESSION['last_action'] &lt; time() - 60 ) 
      { session_destroy(); }// destroy the session 
      print &quot;&lt;h2&gt;Hola de nuevo &quot;.$_SESSION[&quot;usuario&quot;].&quot;&lt;/h2&gt;&quot;;
      return 1;
    }
}
print &quot;&lt;/p&gt;Cookies&lt;/p&gt;&quot;;
print_r($_COOKIE);
session_start();
if (1 == activarSession()) {
    print &quot;&lt;p&gt; Ya tenías una sessión activa&lt;/p&gt;&quot;;
}
print &quot;&lt;/p&gt;Session&lt;/p&gt;&quot;;
print_r($_SESSION);
</div></code></pre>
<p><a href="https://piruletas.000webhostapp.com/teoria/T2/session.php">https://piruletas.000webhostapp.com/teoria/T2/session.php</a></p>
<hr>
<h1 id="8-oop-en-php">8. OOP en PHP</h1>
<ul>
<li>PHP no es un lenguaje 100% Orientado a Objetos.</li>
<li>Soporta:</li>
<li>Encapsulamiento.</li>
<li>Tipos Abstractos de Datos y ocultamiento de la
Información.</li>
<li>Herencia.</li>
<li>Polimorfismo.</li>
</ul>
<hr>
<h2 id="clases-y-objetos">Clases y Objetos</h2>
<pre class="hljs"><code><div><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Myclass</span></span>{

    <span class="hljs-keyword">const</span> CONST_VALUE = <span class="hljs-number">10</span>;
    <span class="hljs-keyword">public</span> $numero=<span class="hljs-number">5</span>;
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dameNumero</span><span class="hljs-params">()</span></span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>::CONST_VALUE*<span class="hljs-keyword">$this</span>-&gt;numero;
    }
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">llamoDame</span><span class="hljs-params">()</span></span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>::dameNumero();}
}
$classname = <span class="hljs-string">'Myclass'</span>;
<span class="hljs-keyword">echo</span> $classname::CONST_VALUE,<span class="hljs-string">"&lt;/p&gt;"</span>; <span class="hljs-comment">// A partir de PHP 5.3.0</span>
<span class="hljs-keyword">echo</span> Myclass::CONST_VALUE,<span class="hljs-string">"&lt;/p&gt;"</span>;
$datos=<span class="hljs-keyword">new</span>  Myclass();
$datos-&gt;numero=<span class="hljs-number">15</span>;
<span class="hljs-keyword">echo</span> $datos-&gt;dameNumero(),<span class="hljs-string">"&lt;/p&gt;"</span>;
<span class="hljs-keyword">echo</span> $datos-&gt;llamoDame(),<span class="hljs-string">"&lt;/p&gt;"</span>; <span class="hljs-comment">//Da error</span>
<span class="hljs-keyword">echo</span> Myclass::dameNumero();
</div></code></pre>
<ul>
<li>:: Operador de Resolución de Ámbito  es un token que permite acceder a elementos estáticos, constantes, y sobrescribir propiedades o métodos de una clase.</li>
<li>-&gt; permite acceder a las propiedades y métodos de un objeto.</li>
</ul>
<hr>
<h3 id="this-self-parent">$this, self, parent</h3>
<ul>
<li>$this es una variable especial que auto-referencia l objeto para acceder a sus métodos y propiedades.</li>
<li>self y parent: son pseudo-variables para acceder a una propiedad o método  de una clase.</li>
<li>Usa $this-&gt; para hacer referencia al objeto (instancia) actual, y se
utiliza self:: para referenciar a la clase actual.</li>
</ul>
<pre class="hljs"><code><div><span class="hljs-keyword">$this</span>-&gt;nombre 
<span class="hljs-keyword">self</span>::nombres
</div></code></pre>
<hr>
<h1 id="callbackcalleableretrollamadas">Callback/Calleable/Retrollamadas</h1>
<p>Los callbacks es un tipo de funciones que son pasadas como parametros y que serán ejecutadas desde una subrutina.</p>
<p>Generalmente se ejecutan cuando se producen eventos.
Ej: wordpress:</p>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">example_callback</span><span class="hljs-params">( $example )</span> </span>{
    <span class="hljs-comment">// Maybe modify $example in some way.</span>
    <span class="hljs-keyword">return</span> $example;
}
add_filter( <span class="hljs-string">'example_filter'</span>, <span class="hljs-string">'example_callback'</span> );

</div></code></pre>
<hr>
<p>Los callbacks, que son funciones llamadas por otra función que usa a la primera como parámetro.</p>
<p>Generalmente se utilizan funciones anónimas como parámetros de los  callbacks.</p>
<pre class="hljs"><code><div>$saludo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">($nombre)</span>
</span>{
    printf(<span class="hljs-string">"Hola %s\r\n"</span>, $nombre);
};

$saludo(<span class="hljs-string">'Carlos'</span>); <span class="hljs-comment">// Devuelve Hola Carlos</span>
call_user_func($saludo, <span class="hljs-string">"PHP"</span>); <span class="hljs-comment">// Devuelve Hola PHP</span>
</div></code></pre>
<hr>
<h1 id="funciones-an%C3%B3nimas">Funciones anónimas</h1>
<p>Una función anónima no es más que una función que no tiene nombre.</p>
<pre class="hljs"><code><div>$saludo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Hola que tal"</span>;
};

<span class="hljs-keyword">echo</span> $saludo(),<span class="hljs-string">"&lt;p&gt;"</span>; <span class="hljs-comment">// Devuelve: Hola que tal</span>
};
</div></code></pre>
<pre class="hljs"><code><div><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">decir</span> <span class="hljs-params">($algo)</span> </span>{
    <span class="hljs-keyword">echo</span> $algo();
}

decir(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">"Esto es algo"</span>;
});
 <span class="hljs-comment">// Devuelve "Esto es algo".</span>
</div></code></pre>
<hr>
<h1 id="una-clausura-o-closure">Una clausura o closure</h1>
<p>Una clausura o closure es una función anónima que captura el scope actual, y proporciona acceso a ese scope cuando se invoca el closure.</p>
<pre class="hljs"><code><div>
$colorCoche = <span class="hljs-string">'rojo'</span>;

$mostrarColor = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> <span class="hljs-title">use</span> <span class="hljs-params">($colorCoche)</span> </span>{
    <span class="hljs-keyword">echo</span> <span class="hljs-string">"El color del coche es $colorCoche"</span>;
};

$mostrarColor(); <span class="hljs-comment">// Mostrará El color del coche es rojo</span>
</div></code></pre>
<p>Las clausuras permiten usar variables mediante la palabra use. Estas variables su ámbito es el de la función donde se definen, no son como las variables globales.</p>
<p>Si se altera el valor de la variable $colorCoche dentro de la clausura, no afectará a la variable original.</p>
<p>--</p>
<pre class="hljs"><code><div>$colorCoche = <span class="hljs-string">'rojo'</span>;

$mostrarColor = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> <span class="hljs-title">use</span> <span class="hljs-params">($colorCoche)</span> </span>{
    $colorCoche = <span class="hljs-string">'azul'</span>;
};

$mostrarColor();
<span class="hljs-keyword">echo</span> $colorCoche; <span class="hljs-comment">// Mostrará rojo</span>
</div></code></pre>
<h1 id="bibliograf%C3%ADa">Bibliografía</h1>
<ul>
<li>
<p>PHP: <a href="http://es.php.net/manual/es/">http://es.php.net/manual/es/</a>
Guia Estilos: https://www.php-fig.org/psr/psr-2/</p>
</li>
<li>
<p>Apache: <a href="http://httpd.apache.org/docs/2.3/es/">http://httpd.apache.org/docs/2.3/es/</a>
-Callbacks: https://diego.com.es/funciones-anonimas-y-clausuras-en-php</p>
</li>
</ul>
<hr>
<h4 id="%C2%BFdudas">¿Dudas?</h4>
<p><img src="./media/image8.png" alt="Image de Dudas"></p>

</body>
</html>
